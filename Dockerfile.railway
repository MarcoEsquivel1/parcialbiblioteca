FROM amazoncorretto:17.0.7

ARG SPRING_DB_URL
ENV SPRING_DB_URL=$SPRING_DB_URL

ARG SPRING_DB_USERNAME
ENV SPRING_DB_USERNAME=$SPRING_DB_USERNAME

ARG SPRING_DB_PASSWORD
ENV SPRING_DB_PASSWORD=$SPRING_DB_PASSWORD

ARG SPRING_JWT_SECRET
ENV SPRING_JWT_SECRET=$SPRING_JWT_SECRET

WORKDIR /app

COPY . .

RUN ./mvnw clean package -DskipTests

EXPOSE 8080

CMD ["java", "-jar", "./target/parcialbiblioteca-0.0.1-SNAPSHOT.jar"]
